<!DOCTYPE html>
<html lang="en">

    <head>
        <meta charset="UTF-8">
        <title>Hangman Game</title>
        <link rel="stylesheet" type="text/css" href="assets/reset.css">
        <link rel="stylesheet" type="text/css" href="assets/style.css">
        <script type="text/javascript" src="assets/javascript/game.js"></script>
        <link href="https://fonts.googleapis.com/css?family=Permanent+Marker&display=swap" rel="stylesheet">

    </head>

    <body>

        <img src="assets/Images/hangmantext.png" alt="Hangman" id="hangman-text">

        <h1>Press any key to get started!</h1>
        <br />
        
        <div class= "container">
            
            <p>Wins: </p>

            <p><span id="num-of-wins"></span></p>
            <br />

            <p>Current Word: </p>
            <br />

            <p><span id="active-word"></span></p>

            <p>Number of guesses remaining: </p>
            <br /> 

            <p><span id="guesses-remain"></span></p>
            <br />

            <p>Letters already Guessed: </p>
            <br />

            <p><span id="letters-guessed"></span></p>

            
           

        </div>     
        
        <script type="text/javascript">

            var currentWord = [];
            var answerWord = [];
            
            var i;

        
            // Array for the word bank of possible answers
            var wordAnswers = ["vapor", "wave", "test", "keyboard"];

            // Math function to randomly pick a word from the wordbank
            var answer = wordAnswers[Math.floor(Math.random()*wordAnswers.length)];

            // Variable that counts the number of guesses left
            var guessesLeft = 15;
            document.getElementById("guesses-remain").innerHTML = guessesLeft;

            // Variable that counts the number of wins
            var wins = 0;
            document.getElementById("num-of-wins").innerHTML = wins;
                
            // Loop that creates empty spaces for the words
            for (i = 0; i < answer.length; i++) {
                currentWord.push("__");
            }
            document.getElementById("active-word").innerHTML = currentWord.join(" ");

            //Function that will evaluate the position of a letter in the word
            function letterInWord(letter) {
                var letterPos = new Array();
                for (i = 0; i < answer.length; i++) {
                    if (answer[i] === letter)
                    letterPos.push(i);
                }
                return letterPos;
            }   

            //Return letters that arent guessed still
            function lettersToGuess() {
                var i; 
                var toGuess = 0;
                for (i in currentWord) {
                    if (currentWord[i] === "__")
                        toGuess++;
                }
                return toGuess;
            }

            //Function to capture user input
            document.onkeyup = function (event) {
                var letter = event.key;
                var lettersGuessed = letter;
                var i;
                var letterPos = letterInWord(lettersGuessed);
                console.log(letter);


                //if else comparing letter guessed with the current word
                if (letterPos.length) {
                    for(i = 0; i < letterPos.length; i ++) {
                        currentWord[letterPos[i]] = lettersGuessed;
                    }
                    document.getElementById("active-word").innerHTML = currentWord.join(" ");
                } else {
                    
                    document.getElementById("letters-guessed").innerHTML += lettersGuessed + " ";
                    guessesLeft--;
                    document.getElementById("guesses-remain").innerHTML = guessesLeft;
                }

                if (letter.includes(lettersGuessed)) {
                        return;
                    }

            
            }



        </script> 



    </body>

</html>